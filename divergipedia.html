<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Divergipedia | Divergify</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  <!-- Favicon -->
  <link rel="icon" href="/favicon.ico">
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="assets/css/concept.css" />
</head>
<body>
<div id="nav-mount"></div>

<main class="wrapper">
  <section class="section">
    <div class="section-header">
      <div class="section-kicker">Our shared language</div>
      <h1 class="section-title">Divergipedia</h1>
      <p class="lead">A 100-term lexicon celebrating neurodivergent brilliance, playful productivity, and the Divergify community.</p>
    </div>

    <div class="encyclopedia-grid">
      <aside class="toc">
        <h2>Browse</h2>
        <input id="toc-search" class="toc-search" type="search" placeholder="Search terms..." aria-label="Search Divergipedia" />
        <div class="alpha" id="alpha"></div>
        <div class="toc-list" id="toc-list"></div>
      </aside>

      <section id="entries" aria-label="Divergipedia entries">
        <h2 id="letter-b" class="letter-divider">B</h2>

        <article id="brain-bounce" class="entry highlight-target" data-term="Brain Bounce">
          <h3>Brain Bounce</h3>
          <p>Brain Bounce captures that lively, rapid-fire attention shift where your mind springs between ideas with electric momentum. With practice, it becomes a superpower: channel it into short, timed sessions or note captures to harness the bounce without exhaustion. Embrace it as a source of vitality that turns what others call distraction into a fountain of creativity. With gentle structure, Brain Bounce becomes a controlled rhythm that propels you forward.</p>
          <figure><figcaption></figcaption></figure>
          <a class="back-to-top" href="#top">Back to top</a>
        </article>

        <article id="brain-buffer" class="entry" data-term="Brain Buffer">
          <h3>Brain Buffer</h3>
          <p>Brain Buffer involves intentionally scheduling cushion time before and after intense activities to decompress and recalibrate, acting as a protective layer against cognitive overload. This is crucial for neurodivergents who process stimuli deeply, preventing burnout by providing space for transitions.</p>
          <a class="back-to-top" href="#top">Back to top</a>
        </article>

        <article id="brainstorm-sprint" class="entry" data-term="Brainstorm Sprint">
          <h3>Brainstorm Sprint</h3>
          <p>A Brainstorm Sprint is a high-speed, time-bound session dedicated to generating ideas rapidly‚Äîcapturing brilliance before it fades. Set a 10‚Äì15 minute timer and let thoughts flow without judgment, aiming for quantity over quality to leverage natural creativity surges. Follow with a quick sort to refine the gems and turn them into action.</p>
          <a class="back-to-top" href="#top">Back to top</a>
        </article>

        <h2 id="letter-c" class="letter-divider">C</h2>
        <article id="calm-cache" class="entry" data-term="Calm Cache">
          <h3>Calm Cache</h3>
          <p>Calm Cache is a personal reservoir of calming elements‚Äîsounds, scents, textures, or visuals‚Äîto draw from when overwhelm spikes. Keep it accessible and varied. This habit provides quick regulation options to quiet static and restore clarity.</p>
          <a class="back-to-top" href="#top">Back to top</a>
        </article>

        <article id="circuit-break-breath" class="entry" data-term="Circuit Break Breath">
          <h3>Circuit Break Breath</h3>
          <p>Circuit Break Breath is a concise breathing exercise designed to interrupt overwhelm‚Äîlike cutting the power to escalating stress and resetting your system. It‚Äôs a quick tool to regain control during sensory or emotional spikes.</p>
          <a class="back-to-top" href="#top">Back to top</a>
        </article>

        <h2 id="letter-d" class="letter-divider">D</h2>
        <article id="daydream-dock" class="entry" data-term="Daydream Dock">
          <h3>Daydream Dock</h3>
          <p>Daydream Dock is a designated slot where unstructured mind-wandering is not only allowed‚Äîit‚Äôs encouraged. Time-box it and capture anything interesting. Channel natural drift into productive insight without guilt or derailment.</p>
          <a class="back-to-top" href="#top">Back to top</a>
        </article>

        <article id="divergent-debrief" class="entry" data-term="Divergent Debrief">
          <h3>Divergent Debrief</h3>
          <p>Divergent Debrief is a quick reflection after you ship or stop. Capture what worked for your brain, what didn‚Äôt, and what to try next. This compounding insight accelerates growth and eases future starts.</p>
          <figure><figcaption></figcaption></figure>
          <a class="back-to-top" href="#top">Back to top</a>
        </article>

        <h2 id="letter-f" class="letter-divider">F</h2>
        <article id="focus-campfire" class="entry" data-term="Focus Campfire">
          <h3>Focus Campfire</h3>
          <p>Focus Campfire is a recurring accountability gathering‚Äîco-working or check-ins‚Äîwhere shared warmth keeps momentum alive. Harness community to sustain effort and make progress feel social and safe.</p>
          <figure><figcaption></figcaption></figure>
          <a class="back-to-top" href="#top">Back to top</a>
        </article>

        <article id="focus-sprint" class="entry" data-term="Focus Sprint">
          <h3>Focus Sprint</h3>
          <p>A Focus Sprint is an intense, time-boxed interval (e.g., 25 minutes) tuned to your attention rhythm, followed by a rest. It builds endurance without burnout and respects natural cycles.</p>
          <a class="back-to-top" href="#top">Back to top</a>
        </article>

        <h2 id="letter-h" class="letter-divider">H</h2>
        <article id="hyperfocus-haven" class="entry" data-term="Hyperfocus Haven">
          <h3>Hyperfocus Haven</h3>
          <p>Hyperfocus Haven is a bounded space to celebrate deep immersion safely. Use timers and exit ramps to enjoy intensity while avoiding overrun and crash.</p>
          <figure><figcaption></figcaption></figure>
          <a class="back-to-top" href="#top">Back to top</a>
        </article>

        <h2 id="letter-i" class="letter-divider">I</h2>
        <article id="idea-avalanche" class="entry" data-term="Idea Avalanche">
          <h3>Idea Avalanche</h3>
          <p>Idea Avalanche is the thrilling yet overwhelming cascade of concepts. Capture first‚Äîno sorting‚Äîthen categorize quickly. Prevent burial and turn chaos into structured innovation.</p>
          <figure><figcaption></figcaption></figure>
          <a class="back-to-top" href="#top">Back to top</a>
        </article>

        <h2 id="letter-m" class="letter-divider">M</h2>
        <article id="mindful-momentum" class="entry" data-term="Mindful Momentum">
          <h3>Mindful Momentum</h3>
          <p>Mindful Momentum advances with energy awareness. Check in before you push, pivot, or pause so you keep pace without slipping into autopilot or guilt.</p>
          <figure><figcaption></figcaption></figure>
          <a class="back-to-top" href="#top">Back to top</a>
        </article>

        <h2 id="letter-n" class="letter-divider">N</h2>
        <article id="neurodivergent-nest" class="entry" data-term="Neurodivergent Nest">
          <h3>Neurodivergent Nest</h3>
          <p>Neurodivergent Nest is a tailored environment that makes your brain feel secure and productive. Customize for your senses‚Äîlight, sound, touch‚Äîso work feels inviting and doable.</p>
          <figure><figcaption></figcaption></figure>
          <a class="back-to-top" href="#top">Back to top</a>
        </article>

        <h2 id="letter-p" class="letter-divider">P</h2>
        <article id="procrastination-pivot" class="entry" data-term="Procrastination Pivot">
          <h3>Procrastination Pivot</h3>
          <p>Procrastination Pivot turns avoidance into curiosity. Ask, ‚ÄúWhat would make this interesting?‚Äù or ‚ÄúWhat‚Äôs a 60-second starter?‚Äù Curiosity unlocks the first move.</p>
          <figure><figcaption></figcaption></figure>
          <a class="back-to-top" href="#top">Back to top</a>
        </article>

        <h2 id="letter-s" class="letter-divider">S</h2>
        <article id="sensory-menu" class="entry" data-term="Sensory Menu">
          <h3>Sensory Menu</h3>
          <p>Sensory Menu is a ready list of inputs for different needs‚Äîup regulate, down regulate, or steady. Customize and keep it accessible to enhance adaptability.</p>
          <figure><figcaption></figcaption></figure>
          <a class="back-to-top" href="#top">Back to top</a>
        </article>

        <article id="synapse-sync" class="entry" data-term="Synapse Sync">
          <h3>Synapse Sync</h3>
          <p>Synapse Sync is the alignment of interests, energy, and support‚Äîthose peak windows when everything clicks. Spot and engineer them intentionally to maximize potential.</p>
          <figure><figcaption></figcaption></figure>
          <a class="back-to-top" href="#top">Back to top</a>
        </article>

        <h2 id="letter-t" class="letter-divider">T</h2>
        <article id="thought-constellation" class="entry" data-term="Thought Constellation">
          <h3>Thought Constellation</h3>
          <p>Thought Constellation maps interconnected ideas so you can choose a direction. Visual connections reveal patterns, show gaps, and spark next steps.</p>
          <figure><figcaption></figcaption></figure>
          <a class="back-to-top" href="#top">Back to top</a>
        </article>

        <article id="time-shield" class="entry" data-term="Time Shield">
          <h3>Time Shield</h3>
          <p>Time Shield protects your focus blocks with boundaries‚Äîcalendar holds, do-not-disturb, and social agreements. Guard them like appointments with your future.</p>
          <figure><figcaption></figcaption></figure>
          <a class="back-to-top" href="#top">Back to top</a>
        </article>

        <h2 id="letter-z" class="letter-divider">Z</h2>
        <article id="zero-draft" class="entry" data-term="Zero Draft">
          <h3>Zero Draft</h3>
          <p>Zero Draft is the unjudged first version. Get it out messy, then polish later. It‚Äôs the antidote to perfectionism and the gateway to momentum.</p>
          <a class="back-to-top" href="#top">Back to top</a>
        </article>
      </section>
    </div>

    <h2 class="letter-divider" id="more">More From The Archives</h2>
    <div id="archive-grid" class="three-col"></div>
    </div>
    <div class="card">
      <p>
        A 100-term lexicon for neurodivergent life, productivity, and the weird
        brilliance of brains that don‚Äôt behave.
      </p>
      <p>
        This is where we name the patterns, honor the workarounds, and design
        systems that fit how we actually function.
      </p>
      <p>
        Visual icons for each term are coming. For now, we‚Äôre shipping the
        words so they can start doing their job: giving you language for what
        you‚Äôve always felt.
      </p>
    </div>
  </section>
</main>

  <div id="footer-mount"></div>
  <script src="assets/js/layout.js?v=20251120" defer></script>
  <script>
  (function(){
    const entriesRoot = document.getElementById('entries');
    const toc = document.getElementById('toc-list');
    const alpha = document.getElementById('alpha');
    const search = document.getElementById('toc-search');
    const seen = new Set();
    const norm = (s) => (s||'').trim().toLowerCase().replace(/\s+/g,' ');

    // Build A‚ÄìZ
    'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('').forEach(ch=>{
      const a = document.createElement('a'); a.href = `#letter-${ch.toLowerCase()}`; a.textContent = ch; alpha.appendChild(a);
    });

    function addEntry(term, body) {
      const letter = term[0].toUpperCase();
      let header = entriesRoot.querySelector(`#letter-${letter.toLowerCase()}`);
      if (!header) {
        header = document.createElement('h2');
        header.id = `letter-${letter.toLowerCase()}`;
        header.className = 'letter-divider';
        header.textContent = letter;
        entriesRoot.appendChild(header);
      }
      const id = term.toLowerCase().replace(/[^a-z0-9]+/g,'-');
      const art = document.createElement('article');
      art.id = id; art.dataset.term = term; art.className = 'entry';
      art.innerHTML = `<h3>${term}</h3><p>${body}</p><figure><figcaption></figcaption></figure><a class="back-to-top" href="#top">Back to top</a>`;
      entriesRoot.appendChild(art);
      const link = document.createElement('a'); link.href = `#${id}`; link.textContent = term; toc.appendChild(link);
      seen.add(norm(term));
    }

    function filterTOC(q){
      const query = q.trim().toLowerCase();
      const links = toc.querySelectorAll('a');
      const articles = entriesRoot.querySelectorAll('.entry');
      articles.forEach((e, idx)=>{
        const text = (e.dataset.term + ' ' + e.innerText).toLowerCase();
        const match = !query || text.includes(query);
        e.style.display = match ? '' : 'none';
        if (links[idx]) links[idx].style.display = match ? '' : 'none';
      });
    }
    search.addEventListener('input', (e)=>filterTOC(e.target.value));

    // Parse markdown (## Term + paragraph)
    fetch('data/divergipedia.md').then(r=>r.ok?r.text():'').then(md=>{
      if (!md) return;
      const blocks = md.split(/\n##\s+/).slice(1);
      blocks.forEach(block=>{
        const lines = block.split('\n');
        const title = (lines.shift()||'').trim();
        if (!title || seen.has(norm(title))) return;
        let desc = '';
        for (let i=0;i<lines.length;i++){
          const line = lines[i].trim();
          if (!line) { if (desc) break; else continue; }
          if (line.startsWith('![')) continue;
          desc += (desc?' ':'') + line;
        }
        if (desc) addEntry(title, desc);
      });
    }).catch(()=>{});

    // Fallback sources (text list + JSON)
    fetch('data/divergipedia_full.txt').then(r=>r.ok?r.text():'').then(txt=>{
      const grid=document.getElementById('archive-grid');
      if (!txt) return;
      txt.split('\n').map(s=>s.trim()).filter(Boolean).forEach(line=>{
        const parts=line.split('‚Äî'); if (parts.length<2) return;
        const term=parts[0].replace(/^\d+\.\s*/, '').trim();
        const desc=parts.slice(1).join('‚Äî').trim();
        if (seen.has(norm(term))) return;
        const card=document.createElement('div'); card.className='card';
        card.innerHTML=`<h3 style="margin:0 0 6px;font-size:15px;">${term}</h3><p style="margin:0;color:var(--text-muted);font-size:13px;">${desc}</p>`;
        grid.appendChild(card);
        seen.add(norm(term));
      });
    }).catch(()=>{});

    fetch('data/divergipedia.json').then(r=>r.ok?r.json():null).then(json=>{
      if (!json||!json.pages) return;
      const grid=document.getElementById('archive-grid');
      json.pages.forEach(p=>{
        if (seen.has(norm(p.title))) return;
        const card=document.createElement('div'); card.className='card';
        card.innerHTML=`<h3 style=\"margin:0 0 6px;font-size:15px;\">${p.title}</h3><p style=\"margin:0;color:var(--text-muted);font-size:13px;\">${p.description||''}</p>`;
        grid.appendChild(card);
        seen.add(norm(p.title));
      });
    }).catch(()=>{});

    // Attach images (from pictures.json) or generate SVG
    function hashCode(str){ let h=0; for(let i=0;i<str.length;i++){ h=(h<<5)-h+str.charCodeAt(i); h|=0; } return Math.abs(h); }
    function colorFromHash(h,shift=0){ const hue=(h+shift)%360; return `hsl(${hue} 75% 60%)`; }
    function svgForTerm(term,w=1200,h=600){
      const hash = hashCode(term);
      const c1 = colorFromHash(hash,0), c2=colorFromHash(hash,60), c3=colorFromHash(hash,120);
      const circles = Array.from({length:8}).map((_,i)=>{
        const r=40+((hash+i)%120), x=(hash*(i+3))%w, y=(hash*(i+7))%h, cc=[c1,c2,c3][i%3];
        return `<circle cx=\"${x}\" cy=\"${y}\" r=\"${r}\" fill=\"${cc}\" fill-opacity=\"0.25\"/>`;
      }).join('');
      return `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"${w}\" height=\"${h}\" viewBox=\"0 0 ${w} ${h}\">`+
        `<defs><linearGradient id=\"g\" x1=\"0\" y1=\"0\" x2=\"1\" y2=\"1\"><stop offset=\"0%\" stop-color=\"${c1}\" stop-opacity=\"0.35\"/><stop offset=\"60%\" stop-color=\"${c2}\" stop-opacity=\"0.35\"/><stop offset=\"100%\" stop-color=\"${c3}\" stop-opacity=\"0.35\"/></linearGradient></defs>`+
        `<rect width=\"100%\" height=\"100%\" fill=\"#0b0c10\"/><rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" fill=\"url(#g)\"/>`+
        circles+
        `<text x=\"50%\" y=\"52%\" fill=\"#fff\" font-family=\"system-ui,Segoe UI,Helvetica,Arial,sans-serif\" font-size=\"64\" font-weight=\"800\" text-anchor=\"middle\">${term}</text></svg>`;
    }
    function attachImage(fig, term, pictures){
      const key = norm(term);
      let chosen='';
      const prefs = [key, key.split(' ')[0]];
      for (const p of pictures){ if (prefs.some(pref=>pref && p.toLowerCase().includes(pref))) { chosen=p; break; } }
      let img = fig.querySelector('img'); if (!img){ img=document.createElement('img'); fig.prepend(img); }
      if (chosen) img.src = 'assets/pictures/'+chosen; else img.src = 'data:image/svg+xml;charset=utf-8,'+encodeURIComponent(svgForTerm(term,1200,600));
      img.alt = `Illustration: ${term}`;
      img.style.width='100%'; img.style.borderRadius='12px'; img.style.border='1px solid rgba(255,255,255,0.06)';
    }
    function hydrateImages(pictures){
      entriesRoot.querySelectorAll('.entry figure').forEach(fig=>{
        const term = fig.closest('.entry')?.dataset.term || fig.closest('.entry')?.querySelector('h3')?.textContent || 'Divergify';
        attachImage(fig, term, pictures);
      });
    }
    fetch('data/pictures.json').then(r=>r.ok?r.json():[]).then(list=>Array.isArray(list)?list:[]).then(hydrateImages).catch(()=>hydrateImages([]));
  })();
  </script>

  <!-- Library Achievements (Easter Eggs) -->
  <div id="egg-badge" class="egg-badge" title="Library achievements" aria-label="Library achievements" role="button" style="display:none;">üìö</div>
  <div id="egg-panel" class="egg-panel" style="display:none;">
    <h4>Library Achievements</h4>
    <ul id="egg-list" class="egg-list"></ul>
  </div>
  <script>
    (function(){
      const badge = document.getElementById('egg-badge');
      const panel = document.getElementById('egg-panel');
      const list = document.getElementById('egg-list');
      const storeKey = 'dg_eggs_session';
      const eggs = [
        { id:'browse-letters', title:'Stacks Navigator', text:'Visited 3 different letter sections.' },
        { id:'search-used', title:'Index Whisperer', text:'Used the Divergipedia search.' },
        { id:'bottom-reached', title:'Deep Diver', text:'Reached the end of the page.' },
        { id:'back-to-top', title:'Gravity Hacker', text:'Used a ‚ÄúBack to top‚Äù link.' },
        { id:'low-stim', title:'Night Ops', text:'Enabled Low‚ÄëStim mode.' },
        { id:'tinfoil', title:'Tin Foil Certified', text:'Enabled Tin Foil Hat mode.' },
        { id:'zero-draft', title:'Zero Hero', text:'Found the ‚ÄúZero Draft‚Äù entry.' },
      ];
      const unlocked = new Set(JSON.parse(sessionStorage.getItem(storeKey) || '[]'));

      function save(){ sessionStorage.setItem(storeKey, JSON.stringify([...unlocked])); }
      function unlock(id){ if (!unlocked.has(id)) { unlocked.add(id); save(); render(); pulseBadge(); } }
      function pulseBadge(){ if (!badge) return; badge.style.display='flex'; badge.animate([{transform:'scale(1)'},{transform:'scale(1.08)'},{transform:'scale(1)'}],{duration:400}); }
      function render(){
        if (!list) return;
        list.innerHTML = '';
        eggs.forEach(e => {
          const li = document.createElement('li');
          const ok = unlocked.has(e.id);
          li.className = ok ? 'unlocked' : 'locked';
          li.innerHTML = `<span class="egg-check">${ok?'‚úì':'‚Ä¢'}</span><div class="egg-text"><strong>${e.title}</strong><br>${e.text}</div>`;
          list.appendChild(li);
        });
      }
      render();

      // Toggle panel
      let open = false;
      function setOpen(v){ open=v; if (panel) panel.style.display = v?'block':'none'; if (badge) badge.style.display = 'flex'; }
      badge?.addEventListener('click', ()=> setOpen(!open));

      // Triggers
      // 1) Browse letters ‚Äî when 3 distinct header anchors are visited
      const seenLetters = new Set();
      document.getElementById('alpha')?.addEventListener('click', (e)=>{
        const a = e.target.closest('a'); if (!a) return;
        const m = (a.getAttribute('href')||'').match(/#letter-([a-z])/);
        if (m) { seenLetters.add(m[1]); if (seenLetters.size >= 3) unlock('browse-letters'); }
      });

      // 2) Search used
      document.getElementById('toc-search')?.addEventListener('input', (e)=>{
        const val = (e.target.value||'').trim(); if (val) unlock('search-used');
      });

      // 3) Reached bottom
      function onScroll(){
        if ((window.innerHeight + window.scrollY) >= (document.body.offsetHeight - 40)) { unlock('bottom-reached'); window.removeEventListener('scroll', onScroll); }
      }
      window.addEventListener('scroll', onScroll);

      // 4) Back to top clicked
      document.getElementById('entries')?.addEventListener('click', (e)=>{
        const a = e.target.closest('a.back-to-top'); if (a) unlock('back-to-top');
      });

      // 5) Mode toggles from header
      document.addEventListener('click', (e)=>{
        if (e.target && e.target.id === 'toggle-low-stim') setTimeout(()=>{ if (document.body.classList.contains('low_stim')) unlock('low-stim'); }, 0);
        if (e.target && e.target.id === 'toggle-tinfoil') setTimeout(()=>{ if (document.body.classList.contains('tinfoil')) unlock('tinfoil'); }, 0);
      });

      // 6) Zero Draft visible
      const zd = document.getElementById('zero-draft');
      if (zd && 'IntersectionObserver' in window) {
        const io = new IntersectionObserver((ents)=>{
          ents.forEach(en=>{ if (en.isIntersecting) { unlock('zero-draft'); io.disconnect(); } });
        }, { rootMargin: '0px 0px -20% 0px' });
        io.observe(zd);
      }

      // Show badge if any unlocked; otherwise keep hidden until first unlock
      if (unlocked.size) { badge.style.display='flex'; }
    })();
  </script>
</body>
</html>
